{% load static %}
{% load i18n %}

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Manage Emails</title>
    <link rel="stylesheet" href="{% static 'ohq/styles.css' %}"> 
</head>
<body>
    <div class="header-bar">
        <a href="/" style="color: white; text-decoration: none; font-size: 1.5rem; font-weight: 600;">
            Queue App Home
        </a>
    </div>

    <div class="container">
        <div class="main-section" style="max-width: 500px; margin: 2rem auto;">
            <h1>{% trans "Email Addresses" %}</h1>
            
            {% if emailaddresses %}
                <p>{% trans 'The following email addresses are associated with your account:' %}</p>
                
                <form action="{% url 'account_email' %}" class="email_list" method="post">
                    {% csrf_token %}
                    <fieldset class="blockLabels">
                        {% for emailaddress in emailaddresses %}
                        <div class="ctrlHolder">
                            <label for="email_radio_{{forloop.counter}}" class="{% if emailaddress.primary %}primary_email{%endif%}">
                                <input id="email_radio_{{forloop.counter}}" type="radio" name="email" {% if emailaddress.primary %}checked="checked"{%endif %} value="{{emailaddress.email}}"/>
                                {{ emailaddress.email }}
                                {% if emailaddress.verified %}
                                    <span class="verified">({% trans "Verified" %})</span>
                                {% else %}
                                    <span class="unverified">({% trans "Unverified" %})</span>
                                {% endif %}
                                {% if emailaddress.primary %}
                                    <span class="primary">({% trans "Primary" %})</span>
                                {% endif %}
                            </label>
                        </div>
                        {% endfor %}
                        
                        <div class="buttonHolder mt-3">
                            <button class="btn-secondary" type="submit" name="action_primary">{% trans 'Make Primary' %}</button>
                            <button class="btn-secondary" type="submit" name="action_send">{% trans 'Re-send Verification' %}</button>
                            <button class="btn-primary" type="submit" name="action_remove">{% trans 'Remove' %}</button>
                        </div>
                    </fieldset>
                </form>
            
            {% else %}
                <p><strong>{% trans 'Warning:'%}</strong> {% trans "You currently do not have any email addresses set up." %}</p>
            {% endif %}
            
            <h2 class="mt-3">{% trans "Add Email Address" %}</h2>
            <form method="post" action="{% url 'account_email' %}" class="add_email">
                {% csrf_token %}
                {{ form.as_p }}
                <button name="action_add" class="btn-primary" type="submit">{% trans "Add Email" %}</button>
            </form>
        </div>
    </div>
</body>
</html>